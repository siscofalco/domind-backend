(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){},175:function(e,t,n){},199:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},231:function(e,t){},233:function(e,t){},244:function(e,t){},246:function(e,t){},273:function(e,t){},275:function(e,t){},276:function(e,t){},281:function(e,t){},283:function(e,t){},302:function(e,t){},314:function(e,t){},317:function(e,t){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(17),c=n.n(s),r=(n(199),n(11)),o=n(37),l=n(14),u=n(6),d=n(7),h=n(13),j=n(12),b=n(354),v=n(355),m=n(113),p=n.n(m),f=n(176),x=n(32),O=n.n(x),g=function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/auth"),withCredentials:!0})}return Object(d.a)(e,[{key:"signupPatient",value:function(e){return this.instance.post("/signup-patient",e)}},{key:"signup",value:function(e){return this.instance.post("/signup-doctor",e)}},{key:"login",value:function(e){return this.instance.post("/login",e)}},{key:"logout",value:function(){return this.instance.post("/logout")}},{key:"isLoggedIn",value:function(){return this.instance.get("/loggedin")}},{key:"edit",value:function(e){return this.instance.post("/edit",e)}}]),e}(),y=n(57),C=n.n(y),w=n(1),k=i.a.createContext(),S=k.Consumer,N=k.Provider,M=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isLoggedIn:!1,isLoading:!0,user:null},e.AuthService=new g,e.signup=function(){var t=Object(f.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.AuthService.signup(n);case 3:(a=t.sent)&&e.setState({isLoggedIn:!0,user:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({isLoggedIn:!1,user:null});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.login=function(t){e.AuthService.login(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){e.AuthService.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.error(e)}))},e.edit=function(t){e.AuthService.edit(t).then((function(t){return e.setState(Object(l.a)(Object(l.a)({},e.state),{},{user:t.data}))})).catch((function(e){return console.error(e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.AuthService.isLoggedIn().then((function(t){t&&e.setState({isLoggedIn:!0,isLoading:!1,user:t})})).catch((function(){e.setState({isLoggedIn:!1,isLoading:!1,user:null})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user;return n?Object(w.jsx)("div",{className:"loadingContainer",children:Object(w.jsx)(C.a,{})}):Object(w.jsx)(N,{value:{isLoading:n,isLoggedIn:t,user:a,signup:this.signup,login:this.login,logout:this.logout,edit:this.edit},children:this.props.children})}}]),n}(i.a.Component),D=function(e){return function(t){return Object(w.jsx)(S,{children:function(n){var a=n.isLoading,i=n.isLoggedIn,s=n.user,c=n.signup,r=n.login,o=n.logout,u=n.edit;return Object(w.jsx)(e,Object(l.a)({isLoggedIn:i,isLoading:a,user:s,signup:c,login:r,logout:o,edit:u},t))}})}},A=(n(223),{username:function(e){},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}}),P=D(function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",password:""},errors:{username:null,password:null}},a}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.login(this.state.fields)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(l.a)(Object(l.a)({},this.state.fields),{},Object(o.a)({},n,a)),errors:Object(l.a)(Object(l.a)({},this.state.errors),{},Object(o.a)({},n,A[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(w.jsxs)("div",{className:"login",children:[Object(w.jsx)("span",{className:"title",children:"Domind"}),Object(w.jsx)("span",{className:"subtitle",children:"Mental health dashboard"}),Object(w.jsxs)("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Username",name:"username",value:t.username,onChange:function(t){return e.handleChange(t)}})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"password",placeholder:"Password",name:"password",value:t.password,onChange:function(t){return e.handleChange(t)}})}),Object(w.jsx)(v.a,{variant:"outlined",color:"primary",type:"submit",children:"Log in"})]}),Object(w.jsx)("a",{className:"footer",href:"/signup",children:"Are you a doctor? Create your account here"})]})}}]),n}(a.Component)),L=function(){return(new g).logout().then((function(){window.location.href="/login"})),""},T=n(181),I=n.n(T),V=(n(224),/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/),R={username:function(e){var t;return e||(t="Username is required"),t},name:function(e){var t;return e||(t="Name is required"),t},email:function(e){var t;return e?V.test(e)||(t="Invalid email"):t="Email is required",t},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t},mobilephone:function(e){var t;return e?e.length<9&&(t="Invalid phone number"):t="Phone number is required",t}},E=D(function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={isError:!1,fields:{username:"",name:"",email:"",password:"",mobilephone:null},errors:{username:null,name:null,email:null,password:null,mobilephone:null}},a}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=Object(l.a)({},this.state.fields);this.setState({isError:!1}),this.props.signup(n).then((function(e){e||t.setState({isError:!0})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;"username"===n&&(a=a.replace(/ /g,"").toLowerCase()),this.setState({fields:Object(l.a)(Object(l.a)({},this.state.fields),{},Object(o.a)({},n,a)),errors:Object(l.a)(Object(l.a)({},this.state.errors),{},Object(o.a)({},n,R[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fields,a=t.errors,i=t.isError;return Object(w.jsxs)("div",{className:"signup",children:[Object(w.jsx)("a",{className:"backIcon",href:"/login",children:Object(w.jsx)(I.a,{})}),Object(w.jsxs)("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Username",name:"username",value:n.username,onChange:function(t){return e.handleChange(t)},error:!!a.username,helperText:a.username})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Name",name:"name",value:n.name,onChange:function(t){return e.handleChange(t)},error:!!a.name,helperText:a.name})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"password",placeholder:"Password",name:"password",value:n.password,onChange:function(t){return e.handleChange(t)},error:!!a.password,helperText:a.password})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"tel",placeholder:"Mobile Phone",name:"mobilephone",value:n.mobilephone,onChange:function(t){return e.handleChange(t)},error:!!a.mobilephone,helperText:a.mobilephone})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Email",name:"email",value:n.email,onChange:function(t){return e.handleChange(t)},error:!!a.email,helperText:a.email})}),Object(w.jsx)(v.a,{type:"submit",variant:"outlined",color:i?"secondary":"primary",children:"Create user"})]})]})}}]),n}(a.Component)),q=n(225),z=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,U={username:function(e){var t;return e||(t="Username is required"),t},name:function(e){var t;return e||(t="Name is required"),t},birthdate:function(e){var t;return e||(t="Birthdate is required"),t},email:function(e){var t;return e?z.test(e)||(t="Invalid email"):t="Email is required",t}},_=D(function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={isError:!1,fields:{username:"",name:"",email:"",password:"",birthdate:null},errors:{username:null,name:null,email:null,password:null,birthdate:null}},a}return Object(d.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=Object(l.a)({},this.state.fields);this.setState({isError:!1}),(new g).signupPatient(n).then((function(){window.location.reload()})).catch((function(){t.setState({isError:!0})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;"username"===n&&(a=a.replace(/ /g,"").toLowerCase()),this.setState({fields:Object(l.a)(Object(l.a)({},this.state.fields),{},Object(o.a)({},n,a)),errors:Object(l.a)(Object(l.a)({},this.state.errors),{},Object(o.a)({},n,U[n](a)))})}},{key:"generatePassword",value:function(){var e=q.generate({length:5,symbols:!1,excludeSimilarCharacters:!0});this.setState({fields:Object(l.a)(Object(l.a)({},this.state.fields),{},{password:e})})}},{key:"render",value:function(){var e=this;return this.props.user&&this.props.user.data&&Array.isArray(this.props.user.data.patients)?Object(w.jsx)("div",{className:"signup",children:Object(w.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Username",name:"username",value:this.state.fields.username,onChange:function(t){return e.handleChange(t)},error:!!this.state.errors.username,helperText:this.state.errors.username})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Name",name:"name",value:this.state.fields.name,onChange:function(t){return e.handleChange(t)},error:!!this.state.errors.name,helperText:this.state.errors.name})}),Object(w.jsxs)("div",{className:"form-item",children:[Object(w.jsx)(b.a,{type:"password",placeholder:"Password",name:"password",readOnly:!0,value:this.state.fields.password}),Object(w.jsx)(v.a,{className:"generatePasswordButton",onClick:function(){e.generatePassword(e)},variant:"outlined",color:"secondary",children:"Generate password"})]}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"date",placeholder:"Birthdate",name:"birthdate",value:this.state.fields.birthdate,onChange:function(t){return e.handleChange(t)},error:!!this.state.errors.birthdate,helperText:this.state.errors.birthdate})}),Object(w.jsx)("div",{className:"form-item",children:Object(w.jsx)(b.a,{type:"text",placeholder:"Email",name:"email",value:this.state.fields.email,onChange:function(t){return e.handleChange(t)},error:!!this.state.errors.email,helperText:this.state.errors.email})}),Object(w.jsx)(v.a,{type:"submit",variant:"outlined",color:this.state.isError?"secondary":"primary",children:"Create patient"})]})}):Object(w.jsx)(r.a,{to:"/user-selector"})}}]),n}(a.Component));var B=D((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,i=e.path,s=e.redirectPath,c=void 0===s?"/user-selector":s,o=e.component;return n?Object(w.jsx)("p",{children:"Loading..."}):Object(w.jsx)(r.b,{exact:a,path:i,render:function(e){return t?Object(w.jsx)(r.a,{to:c}):t?void 0:Object(w.jsx)(o,Object(l.a)({},e))}})}));var F=D((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,i=e.path,s=e.component;return n?Object(w.jsx)("div",{className:"loadingContainer",children:Object(w.jsx)(C.a,{})}):Object(w.jsx)(r.b,{exact:a,path:i,render:function(e){return t?t?Object(w.jsx)(s,Object(l.a)({},e)):void 0:Object(w.jsx)(r.a,{to:"/login"})}})})),Q=D((function(e){return e.user.data?Array.isArray(e.user.data.patients)?Object(w.jsx)(r.a,{to:"/doctor-profile/".concat(e.user.data._id)}):Object(w.jsx)(r.a,{to:"/patient-profile/".concat(e.user.data._id)}):(setTimeout((function(){window.location.reload()}),200),Object(w.jsx)("div",{className:"loadingContainer",children:Object(w.jsx)(C.a,{})}))})),Y=(n(321),function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/doctor"),withCredentials:!0})}return Object(d.a)(e,[{key:"getDoctor",value:function(e){return this.instance.get("/".concat(e))}},{key:"editDoctor",value:function(e){return this.instance.put("/edit",e)}}]),e}()),$=n(182),J=n.n($),G=(n(175),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return!0===this.props.visible?Object(w.jsx)("div",{className:"modal-background",onClick:this.props.onModalClose,children:Object(w.jsxs)("div",{className:"modal-container",onClick:function(e){e.stopPropagation()},children:[Object(w.jsx)("div",{className:"modalCloseButton",onClick:this.props.onModalClose,children:Object(w.jsx)(J.a,{})}),this.props.children]})}):null}}]),n}(a.Component)),H=n(33),K=n.n(H),W=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(u.a)(this,n),a=t.call(this,e);var i=e.content,s=i.name,c=i.username,r=i.email,o=i.mobilephone;return a.state={name:s,username:c,email:r,mobilephone:o,isSuccess:!1},a}return Object(d.a)(n,[{key:"onUsernameChange",value:function(e){this.setState({username:e})}},{key:"onNameChange",value:function(e){this.setState({name:e})}},{key:"onEmailChange",value:function(e){this.setState({email:e})}},{key:"onMobilephoneChange",value:function(e){this.setState({mobilephone:e})}},{key:"editDoctor",value:function(){var e=this;(new Y).editDoctor({username:this.state.username,name:this.state.name,email:this.state.email,mobilephone:this.state.mobilephone}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"modalBody",children:[Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Username:"}),Object(w.jsx)(b.a,{value:this.state.username,onChange:function(t){e.onUsernameChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Name:"}),Object(w.jsx)(b.a,{value:this.state.name,onChange:function(t){e.onNameChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Email:"}),Object(w.jsx)(b.a,{value:this.state.email,onChange:function(t){e.onEmailChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Mobilephone:"}),Object(w.jsx)(b.a,{value:this.state.mobilephone,type:"tel",onChange:function(t){e.onMobilephoneChange(t.target.value)}})]}),Object(w.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){e.editDoctor(e)},children:"Send"})]})}}]),n}(a.Component),X=n(183),Z=n.n(X),ee=n(86),te=n.n(ee),ne=(n(112),function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={doctor:{patients:[]},isEditDoctorModalVisible:!1},a}return Object(d.a)(n,[{key:"getDoctorData",value:function(){var e=this,t=this.props.match.params.id;(new Y).getDoctor(t).then((function(t){e.setState({doctor:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getDoctorData()}},{key:"onModalClose",value:function(){this.getDoctorData(),this.setState({isEditDoctorModalVisible:!1})}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"userDetails",children:[Object(w.jsx)("h1",{className:"name",children:this.state.doctor.name}),Object(w.jsxs)("div",{className:"userDetailsRow",children:[Object(w.jsx)("span",{children:this.state.doctor.email}),Object(w.jsx)("span",{children:this.state.doctor.mobilephone}),Object(w.jsx)("div",{onClick:function(){e.setState({isEditDoctorModalVisible:!0})},children:Object(w.jsx)(te.a,{})})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"sectionTitleContainer",children:Object(w.jsx)("h2",{className:"sectionTitle",children:"Patients"})}),Object(w.jsx)("div",{className:"list",children:this.state.doctor.patients.length?this.state.doctor.patients.map((function(e){return Object(w.jsxs)("div",{className:"listRow",children:[Object(w.jsx)("span",{className:"listRowTitle",children:e.name}),Object(w.jsx)("a",{href:"/patient-details/".concat(e._id),children:Object(w.jsx)(Z.a,{})})]})})):"You have no patients"})]}),Object(w.jsx)(G,{visible:this.state.isEditDoctorModalVisible,onModalClose:function(){e.onModalClose(e)},children:Object(w.jsx)(W,{content:this.state.doctor})})]})}}]),n}(a.Component)),ae=Object(r.f)(D(ne)),ie=function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/patient"),withCredentials:!0})}return Object(d.a)(e,[{key:"getPatient",value:function(e){return this.instance.get("/".concat(e))}},{key:"editPatient",value:function(e,t){return this.instance.put("/edit/".concat(e),t)}},{key:"deletePatient",value:function(e){return this.instance.delete("/".concat(e))}}]),e}(),se=function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/diary"),withCredentials:!0})}return Object(d.a)(e,[{key:"createDiary",value:function(e){return this.instance.post("/create",e)}},{key:"getDiary",value:function(e){return this.instance.get("/".concat(e))}},{key:"deleteDiary",value:function(e){return this.instance.delete("/".concat(e))}}]),e}(),ce=function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/activity"),withCredentials:!0})}return Object(d.a)(e,[{key:"createActivity",value:function(e){return this.instance.post("/create",e)}},{key:"getActivity",value:function(e){return this.instance.get("/".concat(e))}},{key:"editActivity",value:function(e,t){return this.instance.put("/edit/".concat(e),t)}},{key:"deleteActivity",value:function(e){return this.instance.delete("/".concat(e))}}]),e}(),re=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={answers:[],isSuccess:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.content);var e=this.props.content.questions.map((function(){return""}));this.setState({answers:e})}},{key:"onAnswerChange",value:function(e,t){var n=this.state.answers;n[t]=e,this.setState({answers:n})}},{key:"sendAnswers",value:function(){var e=this;(new ce).editActivity(this.props.content._id,{answers:this.state.answers}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"activityModal",children:[Object(w.jsx)("div",{children:this.props.content.questions.map((function(t,n){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:t}),Object(w.jsx)("input",{type:"text",onChange:function(t){e.onAnswerChange(t.target.value,n)}})]})}))}),Object(w.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){e.sendAnswers(e)},children:"Send"})]})}}]),n}(a.Component),oe=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).props.content&&a.props.content.comment?a.state={text:a.props.content.comment,isSuccess:!1}:a.state={text:"",isSuccess:!1},a}return Object(d.a)(n,[{key:"onTextChange",value:function(e){this.setState({text:e})}},{key:"createDiary",value:function(){var e=this;(new se).createDiary({comment:this.state.text,patient:this.props.patientId}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"textModal",children:[Object(w.jsx)("textarea",{readOnly:!this.props.isNew,value:this.state.text,onChange:function(t){e.onTextChange(t.target.value)}}),this.props.isNew?Object(w.jsx)(v.a,{onClick:function(){e.createDiary(e)},children:"Send"}):null]})}}]),n}(a.Component),le=function(e){var t=new Date(e),n=t.getDate();n="".concat(n<10?0:"").concat(n);var a=t.getMonth()+1;a="".concat(a<10?0:"").concat(a);var i=t.getFullYear();return"".concat(n,"/").concat(a,"/").concat(i)},ue=function(e){var t=new Date(e),n=t.getDate();n="".concat(n<10?0:"").concat(n);var a=t.getMonth()+1;a="".concat(a<10?0:"").concat(a);var i=t.getFullYear();return"".concat(i,"-").concat(a,"-").concat(n)},de=n(73),he=n.n(de),je=n(184),be=n.n(je),ve=n(185),me=n.n(ve),pe=n(62),fe=n.n(pe),xe=n(74),Oe=n.n(xe),ge=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={patient:{activities:[],diary:[]},isActivityModalVisible:!1,currentActivity:{},isDiaryModalVisible:!1,currentDiary:{}},a}return Object(d.a)(n,[{key:"getPatientData",value:function(){var e=this,t=this.props.match.params.id;(new ie).getPatient(t).then((function(t){e.setState({patient:t.data})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getPatientData()}},{key:"openActivityModal",value:function(e){this.setState({isActivityModalVisible:!0,currentActivity:e})}},{key:"openDiaryModal",value:function(e){this.setState({isDiaryModalVisible:!0,currentDiary:e})}},{key:"newDiary",value:function(){this.setState({isDiaryModalVisible:!0,currentDiary:{}})}},{key:"onCloseModal",value:function(){this.getPatientData(),this.setState({isActivityModalVisible:!1,isDiaryModalVisible:!1})}},{key:"deleteDiary",value:function(e){var t=this,n=e._id;(new se).deleteDiary(n).then((function(){t.getPatientData()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"userDetails",children:[Object(w.jsx)("h1",{className:"name",children:this.state.patient.name}),Object(w.jsx)("div",{className:"userDetailsRow",children:Object(w.jsx)("span",{children:this.state.patient.email})})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"sectionTitleContainer",children:Object(w.jsx)("h2",{className:"sectionTitle",children:"Activities"})}),"                    ",Object(w.jsx)("div",{className:"list",children:this.state.patient.activities.length?this.state.patient.activities.map((function(t){return Object(w.jsxs)("div",{className:"listRow",children:[Object(w.jsx)("span",{className:"listRowTitle",children:le(t.date)}),t.answers&&t.answers.length?Object(w.jsx)(me.a,{}):Object(w.jsx)("div",{onClick:function(){e.openActivityModal(t)},children:Object(w.jsx)(be.a,{})})]})})):"You have no activities"})]}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"sectionTitleContainer",children:[Object(w.jsx)("h2",{className:"sectionTitle",children:"Diaries"}),Object(w.jsx)("div",{onClick:function(){e.newDiary()},children:Object(w.jsx)(he.a,{})})]}),Object(w.jsx)("div",{className:"list",children:this.state.patient.length?this.state.patient.diary.map((function(t){return Object(w.jsxs)("div",{className:"listRow",children:[Object(w.jsxs)("div",{className:"listPack",children:[Object(w.jsx)("span",{className:"listRowTitle",children:le(t.date)}),Object(w.jsx)("div",{onClick:function(){e.openDiaryModal(t)},children:Object(w.jsx)(Oe.a,{})})]}),Object(w.jsx)("div",{onClick:function(){e.deleteDiary(t)},children:Object(w.jsx)(fe.a,{})})]})})):"You have no diaries"})]}),Object(w.jsx)(G,{visible:this.state.isActivityModalVisible,onModalClose:function(){e.onCloseModal(e)},children:Object(w.jsx)(re,{content:this.state.currentActivity})}),Object(w.jsx)(G,{visible:this.state.isDiaryModalVisible,onModalClose:function(){e.onCloseModal(e)},children:Object(w.jsx)(oe,{content:this.state.currentDiary,isNew:!this.state.currentDiary||!this.state.currentDiary.comment,patientId:this.state.patient._id})})]})}}]),n}(a.Component),ye=Object(r.f)(D(ge)),Ce=function(){function e(){Object(u.a)(this,e),this.instance=O.a.create({baseURL:"".concat("https://domind.herokuapp.com/api","/doctor-session"),withCredentials:!0})}return Object(d.a)(e,[{key:"createSession",value:function(e){return this.instance.post("/create",e)}},{key:"getSession",value:function(e){return this.instance.get("/".concat(e))}},{key:"deleteSession",value:function(e){return this.instance.delete("/".concat(e))}}]),e}(),we=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.content.answers&&this.props.content.answers.length;return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"modalTitle",children:"Activity"}),Object(w.jsx)("div",{children:this.props.content.questions.map((function(n,a){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:n}),Object(w.jsx)("p",{children:t?e.props.content.answers[a]:"No answer"})]})}))})]})}}]),n}(a.Component),ke=n(88),Se=n(186),Ne=n.n(Se),Me=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={questions:[""],isSuccess:!1},a}return Object(d.a)(n,[{key:"onTextChange",value:function(e,t){var n=Object(ke.a)(this.state.questions);n[t]=e,this.setState({questions:n})}},{key:"addNewQuestion",value:function(){var e=Object(ke.a)(this.state.questions);e.push(""),this.setState({questions:e})}},{key:"sendQuestions",value:function(){var e=this,t=Object(ke.a)(this.state.questions).filter((function(e){return e.length>0}));t.length>0&&(new ce).createActivity({questions:t,patient:this.props.patientId}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"createActivityModal",children:[Object(w.jsx)("div",{className:"createActivityModalList",children:this.state.questions.map((function(t,n){return Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)(b.a,{placeholder:"Question...",value:t,onChange:function(t){e.onTextChange(t.target.value,n)}}),n===e.state.questions.length-1?Object(w.jsx)("div",{onClick:function(){e.addNewQuestion(e)},children:Object(w.jsx)(Ne.a,{})}):null]})}))}),Object(w.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){e.sendQuestions(e)},children:"Send"})]})}}]),n}(a.Component),De=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).props.content&&a.props.content.comment?a.state={text:a.props.content.comment,isSuccess:!1}:a.state={text:"",isSuccess:!1},a}return Object(d.a)(n,[{key:"onTextChange",value:function(e){this.setState({text:e})}},{key:"createSession",value:function(){var e=this;(new Ce).createSession({comment:this.state.text,patient:this.props.patientId}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"textModal",children:[Object(w.jsx)("textarea",{readOnly:!this.props.isNew,value:this.state.text,onChange:function(t){e.onTextChange(t.target.value)}}),this.props.isNew?Object(w.jsx)(v.a,{onClick:function(){e.createSession(e)},children:"Send"}):null]})}}]),n}(a.Component),Ae=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(u.a)(this,n),a=t.call(this,e);var i=e.content,s=i.name,c=i.username,r=i.email,o=i.birthdate;return console.log(ue(o)),a.state={name:s,username:c,email:r,birthdate:ue(o),isSuccess:!1},a}return Object(d.a)(n,[{key:"onUsernameChange",value:function(e){this.setState({username:e})}},{key:"onNameChange",value:function(e){this.setState({name:e})}},{key:"onEmailChange",value:function(e){this.setState({email:e})}},{key:"onBirthdateChange",value:function(e){this.setState({birthdate:e})}},{key:"editPatient",value:function(){var e=this;(new ie).editPatient(this.props.content._id,{username:this.state.username,name:this.state.name,email:this.state.email,birthdate:new Date(this.state.birthdate)}).then((function(){e.setState({isSuccess:!0})}))}},{key:"render",value:function(){var e=this;return this.state.isSuccess?Object(w.jsx)(K.a,{}):Object(w.jsxs)("div",{className:"modalBody",children:[Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Username:"}),Object(w.jsx)(b.a,{value:this.state.username,onChange:function(t){e.onUsernameChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Name:"}),Object(w.jsx)(b.a,{value:this.state.name,onChange:function(t){e.onNameChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Email:"}),Object(w.jsx)(b.a,{value:this.state.email,onChange:function(t){e.onEmailChange(t.target.value)}})]}),Object(w.jsxs)("div",{className:"modalRow",children:[Object(w.jsx)("label",{children:"Birthdate:"}),Object(w.jsx)(b.a,{value:this.state.birthdate,type:"date",onChange:function(t){e.onBirthdateChange(t.target.value)}})]}),Object(w.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){e.editPatient(e)},children:"Send"})]})}}]),n}(a.Component),Pe=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={patient:{activities:[],sessions:[]},isSeeActivityModalVisible:!1,currentActivity:{},isCreateActivityModalVisible:!1,isSessionModalVisible:!1,isEditPatientModalVisible:!1},a}return Object(d.a)(n,[{key:"getPatientData",value:function(){var e=this,t=this.props.match.params.id;(new ie).getPatient(t).then((function(t){e.setState({patient:t.data})})).catch((function(e){console.log(e)}))}},{key:"seeActivityModal",value:function(e){this.setState({isSeeActivityModalVisible:!0,currentActivity:e})}},{key:"onModalClose",value:function(){this.getPatientData(),this.setState({isCreateActivityModalVisible:!1,isSessionModalVisible:!1,isEditPatientModalVisible:!1,currentSession:{}})}},{key:"componentDidMount",value:function(){this.getPatientData()}},{key:"seeSessionModal",value:function(e){this.setState({isSessionModalVisible:!0,currentSession:e})}},{key:"deleteActivity",value:function(e){var t=this,n=e._id;(new ce).deleteActivity(n).then((function(){t.getPatientData()})).catch((function(e){console.log(e)}))}},{key:"deleteSession",value:function(e){var t=this,n=e._id;(new Ce).deleteSession(n).then((function(){t.getPatientData()})).catch((function(e){console.log(e)}))}},{key:"deletePatient",value:function(){var e=this.state.patient._id;(new ie).deletePatient(e).then((function(){window.location.href="/user-selector"})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"userDetails",children:[Object(w.jsx)("h1",{className:"name",children:this.state.patient.name}),Object(w.jsxs)("div",{className:"userDetailsRow",children:[Object(w.jsxs)("div",{className:"listPack",children:[Object(w.jsx)("span",{children:this.state.patient.email}),Object(w.jsx)("div",{onClick:function(){e.setState({isEditPatientModalVisible:!0})},children:Object(w.jsx)(te.a,{})})]}),Object(w.jsx)("div",{onClick:function(){e.deletePatient(e)},children:Object(w.jsx)(fe.a,{})})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"sectionTitleContainer",children:[Object(w.jsx)("h2",{className:"sectionTitle",children:"Activities"}),Object(w.jsx)("div",{onClick:function(){e.setState({isCreateActivityModalVisible:!0})},children:Object(w.jsx)(he.a,{})})]}),Object(w.jsx)("div",{className:"list",children:this.state.patient.activities.length?this.state.patient.activities.map((function(t){return Object(w.jsxs)("div",{className:"listRow",children:[Object(w.jsxs)("div",{className:"listPack",children:[Object(w.jsx)("span",{className:"listRowTitle",children:le(t.date)}),Object(w.jsx)("div",{onClick:function(){e.seeActivityModal(t)},children:Object(w.jsx)(Oe.a,{})})]}),Object(w.jsx)("div",{onClick:function(){e.deleteActivity(t)},children:Object(w.jsx)(fe.a,{})})]})})):"This patient has no activities"}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"sectionTitleContainer",children:[Object(w.jsx)("h2",{className:"sectionTitle",children:"Sessions"}),Object(w.jsx)("div",{onClick:function(){e.setState({isSessionModalVisible:!0})},children:Object(w.jsx)(he.a,{})})]}),Object(w.jsx)("div",{className:"list",children:this.state.patient.sessions.length?this.state.patient.sessions.map((function(t){return Object(w.jsxs)("div",{className:"listRow",children:[Object(w.jsxs)("div",{className:"listPack",children:[Object(w.jsx)("span",{className:"listRowTitle",children:le(t.date)}),Object(w.jsx)("div",{onClick:function(){e.seeSessionModal(t)},children:Object(w.jsx)(Oe.a,{})})]}),Object(w.jsx)("div",{onClick:function(){e.deleteSession(t)},children:Object(w.jsx)(fe.a,{})})]})})):"This patient has no sessions"})]})]}),Object(w.jsx)(G,{visible:this.state.isSeeActivityModalVisible,onModalClose:function(){e.setState({isSeeActivityModalVisible:!1})},children:Object(w.jsx)(we,{content:this.state.currentActivity})}),Object(w.jsx)(G,{visible:this.state.isCreateActivityModalVisible,onModalClose:function(){e.onModalClose(e)},children:Object(w.jsx)(Me,{patientId:this.state.patient._id})}),Object(w.jsx)(G,{visible:this.state.isSessionModalVisible,onModalClose:function(){e.onModalClose(e)},children:Object(w.jsx)(De,{content:this.state.currentSession,isNew:!this.state.currentSession||!this.state.currentSession.comment,patientId:this.state.patient._id})}),Object(w.jsx)(G,{visible:this.state.isEditPatientModalVisible,onModalClose:function(){e.onModalClose(e)},children:Object(w.jsx)(Ae,{content:this.state.patient})})]})}}]),n}(a.Component),Le=Object(r.f)(D(Pe)),Te=n(187),Ie=n.n(Te),Ve=n(188),Re=n.n(Ve),Ee=n(189),qe=n.n(Ee),ze=(n(322),D((function(e){if(!e.user||!e.user.data||!e.user.data.username)return null;var t=function(e){window.location.href=e};return Object(w.jsxs)("div",{className:"navbar-container",children:[Object(w.jsx)("div",{className:"navbar-item ".concat(window.location.href.includes("/new-patient")?"":"selected"),onClick:function(){t("/user-selector")},children:Object(w.jsx)(Ie.a,{})}),e.user.data.patients&&Array.isArray(e.user.data.patients)?Object(w.jsx)("div",{className:"navbar-item ".concat(window.location.href.includes("new-patient")?"selected":""),onClick:function(){t("/new-patient")},children:Object(w.jsx)(Re.a,{})}):null,Object(w.jsx)("div",{className:"navbar-item",onClick:function(){t("/logout")},children:Object(w.jsx)(qe.a,{})})]})})));var Ue=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(ze,{}),Object(w.jsxs)("div",{className:"appContent",children:[Object(w.jsx)(r.b,{exact:!0,path:"/",component:function(){return Object(w.jsx)(r.a,{to:"/login"})}}),Object(w.jsx)(F,{exact:!0,path:"/user-selector",component:Q}),Object(w.jsx)(F,{path:"/doctor-profile/:id",component:ae}),Object(w.jsx)(F,{path:"/patient-profile/:id",component:ye}),Object(w.jsx)(F,{path:"/patient-details/:id",component:Le}),Object(w.jsx)(F,{path:"/new-patient",component:_}),Object(w.jsx)(B,{exact:!0,path:"/signup",component:E}),Object(w.jsx)(B,{exact:!0,path:"/login",component:P}),Object(w.jsx)(r.b,{exact:!0,path:"/logout",component:L})]})]})},_e=n(54),Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,357)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};c.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(_e.a,{children:Object(w.jsx)(M,{children:Object(w.jsx)(Ue,{})})})}),document.getElementById("root")),Be()}},[[323,1,2]]]);
//# sourceMappingURL=main.bdd3b3ea.chunk.js.map